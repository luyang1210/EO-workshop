
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Miscellaneous tips and tricks &#8212; openEO Python Client 0.12.0a1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API" href="../api.html" />
    <link rel="prev" title="Spectral Indices" href="spectral_indices.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="miscellaneous-tips-and-tricks">
<h1>Miscellaneous tips and tricks<a class="headerlink" href="#miscellaneous-tips-and-tricks" title="Permalink to this heading">¶</a></h1>
<section id="export-a-process-graph">
<span id="process-graph-export"></span><h2>Export a process graph<a class="headerlink" href="#export-a-process-graph" title="Permalink to this heading">¶</a></h2>
<p>You can export the underlying process graph of
a <a class="reference internal" href="../api.html#openeo.rest.datacube.DataCube" title="openeo.rest.datacube.DataCube"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCube</span></code></a>, <a class="reference internal" href="../api.html#openeo.rest.vectorcube.VectorCube" title="openeo.rest.vectorcube.VectorCube"><code class="xref py py-class docutils literal notranslate"><span class="pre">VectorCube</span></code></a>, etc,
to a standardized JSON format, which allows interoperability with other openEO tools.</p>
<p>For example, use <a class="reference internal" href="../api.html#openeo.rest.datacube.DataCube.print_json" title="openeo.rest.datacube.DataCube.print_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">print_json()</span></code></a> to directly print the JSON representation
in your interactive Jupyter or Python session:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dump</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">print_json</span><span class="p">()</span>
<span class="go">{</span>
<span class="go">  &quot;process_graph&quot;: {</span>
<span class="go">    &quot;loadcollection1&quot;: {</span>
<span class="go">      &quot;process_id&quot;: &quot;load_collection&quot;,</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Or save it to a file, by getting the JSON representation first as a string
with <a class="reference internal" href="../api.html#openeo.rest.datacube.DataCube.to_json" title="openeo.rest.datacube.DataCube.to_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_json()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Export as JSON string</span>
<span class="n">dump</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>

<span class="c1"># Write to file in `pathlib` style</span>
<span class="n">export_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;path/to/export.json&quot;</span><span class="p">)</span>
<span class="n">export_path</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">dump</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

<span class="c1"># Write to file in `open()` style</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;path/to/export.json&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dump</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Avoid using methods like <a class="reference internal" href="../api.html#openeo.rest.datacube.DataCube.flat_graph" title="openeo.rest.datacube.DataCube.flat_graph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flat_graph()</span></code></a>,
which are mainly intended for internal use.
Not only are these methods subject to change, they also lead to representations
with interoperability and reuse issues.
For example, naively printing or automatic (<code class="docutils literal notranslate"><span class="pre">repr</span></code>) rendering of
<a class="reference internal" href="../api.html#openeo.rest.datacube.DataCube.flat_graph" title="openeo.rest.datacube.DataCube.flat_graph"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flat_graph()</span></code></a> output will roughly look like JSON,
but is in fact invalid: it uses single quotes (instead of double quotes)
and booleans values are title-case (instead of lower case).</p>
</div>
</section>
<section id="execute-a-process-graph-directly-from-raw-json">
<h2>Execute a process graph directly from raw JSON<a class="headerlink" href="#execute-a-process-graph-directly-from-raw-json" title="Permalink to this heading">¶</a></h2>
<p>When you have a process graph in JSON format, as a string, a local file or a URL,
you can execute/download it without converting it do a DataCube first.
Just pass the string, path or URL directly to
<a class="reference internal" href="../api.html#openeo.rest.connection.Connection.download" title="openeo.rest.connection.Connection.download"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.download()</span></code></a>,
<a class="reference internal" href="../api.html#openeo.rest.connection.Connection.execute" title="openeo.rest.connection.Connection.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.execute()</span></code></a> or
<a class="reference internal" href="../api.html#openeo.rest.connection.Connection.create_job" title="openeo.rest.connection.Connection.create_job"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.create_job()</span></code></a>.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># `execute` with raw JSON string</span>
<span class="n">connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    {</span>
<span class="s2">        &quot;add&quot;: {&quot;process_id&quot;: &quot;add&quot;, &quot;arguments&quot;: {&quot;x&quot;: 3, &quot;y&quot;: 5}, &quot;result&quot;: true}</span>
<span class="s2">    }</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c1"># `download` with local path to JSON file</span>
<span class="n">connection</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;path/to/my-process-graph.json&quot;</span><span class="p">)</span>

<span class="c1"># `create_job` with URL to JSON file</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="s2">&quot;https://jsonbin.example/my/process-graph.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">openEO Python Client</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Open-EO&repo=openeo-python-client&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">openEO Python Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_access.html">Finding and loading data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processes.html">Working with processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_jobs.html">Batch Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udp.html">User-Defined Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auth.html">Authentication and Account Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-Defined Functions (UDF) explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datacube_construction.html">DataCube construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../machine_learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">openEO CookBook</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ard.html">Analysis Ready Data generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sampling.html">Dataset sampling</a></li>
<li class="toctree-l2"><a class="reference internal" href="udp_sharing.html">Sharing of user-defined processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="spectral_indices.html">Spectral Indices</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Miscellaneous tips and tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process_mapping.html">openEO Process Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best_practices.html">Best practices, coding style and general tips</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">openEO CookBook</a><ul>
      <li>Previous: <a href="spectral_indices.html" title="previous chapter">Spectral Indices</a></li>
      <li>Next: <a href="../api.html" title="next chapter">API</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- Alabaster (krTheme++) Hacks -->

<div class="sidebar-meta">
<h3>Meta</h3>
<div>Docs for openEO Python Client</div>
<div>Version: <code>0.12.0a1</code></div>
<div>Last updated: 2022/08/26</div>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017 - 2022, Jeroen Dries.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/cookbook/tricks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/Open-EO/openeo-python-client" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>